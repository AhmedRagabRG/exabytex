const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

async function main() {
  console.log('بدء إضافة بيانات المدونة التجريبية...');

  try {
    // البحث عن مستخدم لربطه بالمقالات
    const users = await prisma.user.findMany({
      take: 3
    });

    if (users.length === 0) {
      console.log('لا توجد مستخدمين في قاعدة البيانات. قم بإنشاء مستخدمين أولاً.');
      return;
    }

    const sampleBlogs = [
      {
        title: 'مستقبل الذكاء الاصطناعي في الأعمال',
        excerpt: 'كيف يغير الذكاء الاصطناعي وجه الأعمال الحديثة ويفتح آفاق جديدة للنمو والابتكار',
        content: `# مستقبل الذكاء الاصطناعي في الأعمال

## مقدمة

يشهد عالم الأعمال تحولاً جذرياً مع دخول تقنيات الذكاء الاصطناعي. هذه التقنيات لا تقتصر على الشركات التقنية الكبرى فحسب، بل أصبحت متاحة للشركات الصغيرة والمتوسطة أيضاً.

## التأثيرات الإيجابية

### 1. أتمتة العمليات
- تقليل الأخطاء البشرية
- زيادة الكفاءة والسرعة
- توفير الوقت والتكلفة

### 2. تحليل البيانات
- استخراج رؤى قيمة من البيانات
- التنبؤ بالاتجاهات المستقبلية
- اتخاذ قرارات مدروسة

### 3. تحسين تجربة العملاء
- خدمة عملاء ذكية 24/7
- توصيات مخصصة
- حلول سريعة ودقيقة

## الخلاصة

الذكاء الاصطناعي ليس مجرد اتجاه مؤقت، بل هو مستقبل الأعمال. الشركات التي تتبنى هذه التقنيات مبكراً ستحصل على ميزة تنافسية كبيرة.`,
        slug: 'future-of-ai-in-business-' + Date.now(),
        coverImage: 'https://images.unsplash.com/photo-1677442136019-21780ecad995?w=800&h=400&fit=crop',
        tags: JSON.stringify(['الذكاء الاصطناعي', 'الأعمال', 'التكنولوجيا', 'الابتكار']),
        featured: true,
        status: 'PUBLISHED',
        published: true,
        publishedAt: new Date(),
        authorId: users[0].id,
        authorName: users[0].name || users[0].email || 'كاتب مجهول',
        authorAvatar: users[0].image
      },
      {
        title: 'أتمتة العمليات التجارية باستخدام n8n',
        excerpt: 'دليل شامل لاستخدام منصة n8n في أتمتة العمليات التجارية وزيادة الكفاءة',
        content: `# أتمتة العمليات التجارية باستخدام n8n

## ما هو n8n؟

n8n هي منصة مفتوحة المصدر لأتمتة العمليات والربط بين التطبيقات المختلفة. تتيح للمستخدمين إنشاء workflows معقدة بطريقة بصرية وسهلة.

## المميزات الرئيسية

### 1. واجهة مرئية سهلة
- إنشاء العمليات بالسحب والإفلات
- عرض واضح لتدفق البيانات
- سهولة التعديل والتطوير

### 2. تكامل واسع
- أكثر من 200 تطبيق مدعوم
- APIs مخصصة
- Webhooks وHTTP requests

### 3. مرونة عالية
- JavaScript code snippets
- إعدادات متقدمة
- إمكانيات لا محدودة

## أمثلة عملية

1. **أتمتة إدارة العملاء المحتملين**
2. **مزامنة البيانات بين الأنظمة**
3. **إرسال تقارير دورية**
4. **معالجة الطلبات والفواتير**

## الخلاصة

n8n أداة قوية يمكنها تحويل طريقة عمل شركتك وزيادة الإنتاجية بشكل كبير.`,
        slug: 'n8n-business-automation-' + Date.now(),
        coverImage: 'https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop',
        tags: JSON.stringify(['n8n', 'الأتمتة', 'العمليات التجارية', 'الإنتاجية']),
        featured: false,
        status: 'PUBLISHED',
        published: true,
        publishedAt: new Date(Date.now() - 24 * 60 * 60 * 1000), // أمس
        authorId: users[0].id,
        authorName: users[0].name || users[0].email || 'كاتب مجهول',
        authorAvatar: users[0].image
      },
      {
        title: 'بناء روبوت محادثة ذكي للعملاء',
        excerpt: 'كيفية إنشاء روبوت محادثة يوفر خدمة عملاء متميزة ويقلل من تكلفة الدعم',
        content: `# بناء روبوت محادثة ذكي للعملاء

## لماذا تحتاج روبوت محادثة؟

في عصر التجارة الرقمية، أصبح العملاء يتوقعون الحصول على إجابات فورية لاستفساراتهم. روبوت المحادثة يمكنه تقديم هذه الخدمة على مدار الساعة.

## المميزات الأساسية

### 1. خدمة على مدار الساعة
- عدم انقطاع الخدمة
- استجابة فورية
- تقليل أوقات الانتظار

### 2. توفير التكاليف
- تقليل الحاجة لموظفي دعم
- زيادة الكفاءة
- معالجة استفسارات متعددة

### 3. تحسين تجربة العملاء
- إجابات دقيقة ومتسقة
- توجيه للقسم المناسب
- حفظ تاريخ المحادثات

## خطوات البناء

1. **تحديد الأهداف والمتطلبات**
2. **اختيار المنصة المناسبة**
3. **تدريب النموذج على البيانات**
4. **تطوير واجهة المحادثة**
5. **الاختبار والتحسين**
6. **النشر والمتابعة**

## أفضل الممارسات

- ابدأ بحالات الاستخدام البسيطة
- قدم خيار التحويل لموظف بشري
- راقب الأداء وحسن باستمرار
- احرص على الأمان وحماية البيانات

## الخلاصة

روبوت المحادثة استثمار ذكي يحسن خدمة العملاء ويقلل التكاليف التشغيلية.`,
        slug: 'smart-chatbot-guide-' + Date.now(),
        coverImage: 'https://images.unsplash.com/photo-1531746790731-6c087fecd65a?w=800&h=400&fit=crop',
        tags: JSON.stringify(['روبوت المحادثة', 'خدمة العملاء', 'الذكاء الاصطناعي', 'التطوير']),
        featured: true,
        status: 'PENDING',
        published: false,
        authorId: users[1]?.id || users[0].id,
        authorName: users[1]?.name || users[1]?.email || users[0].name || 'كاتب مجهول',
        authorAvatar: users[1]?.image || users[0].image
      },
      {
        title: 'التسويق الرقمي: استراتيجيات النجاح في 2024',
        excerpt: 'أحدث استراتيجيات التسويق الرقمي التي تضمن وصولاً أفضل وعائد استثمار أعلى',
        content: `# التسويق الرقمي: استراتيجيات النجاح في 2024

## التطورات الجديدة في التسويق الرقمي

يشهد مجال التسويق الرقمي تطوراً مستمراً، وعام 2024 يحمل معه تحديات وفرص جديدة للمسوقين والشركات.

## الاستراتيجيات الفعالة

### 1. التسويق بالمحتوى
- إنشاء محتوى قيم ومفيد
- استخدام القصص والحكايات
- التنويع في أشكال المحتوى

### 2. وسائل التواصل الاجتماعي
- اختيار المنصات المناسبة للجمهور
- التفاعل الحقيقي مع المتابعين
- استخدام الإعلانات المدفوعة بذكاء

### 3. التسويق عبر البريد الإلكتروني
- بناء قوائم بريدية عالية الجودة
- شخصنة الرسائل
- أتمتة الحملات

### 4. تحسين محركات البحث (SEO)
- البحث عن الكلمات المفتاحية المناسبة
- تحسين سرعة الموقع
- إنشاء روابط عالية الجودة

## قياس النتائج والتحليل

- استخدام أدوات التحليل المتقدمة
- متابعة المؤشرات الرئيسية (KPIs)
- إجراء اختبارات A/B
- التحسين المستمر

## نصائح للنجاح

1. ضع العميل في المركز
2. استثمر في جودة المحتوى
3. كن مبدعاً ومبتكراً
4. تابع التطورات والاتجاهات

## الخلاصة

النجاح في التسويق الرقمي يتطلب استراتيجية شاملة ومرونة في التكيف مع التغييرات.`,
        slug: 'digital-marketing-strategies-2024-' + Date.now(),
        coverImage: 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop',
        tags: JSON.stringify(['التسويق الرقمي', 'استراتيجيات', 'النمو', 'العملاء']),
        featured: false,
        status: 'REJECTED',
        published: false,
        rejectionReason: 'المحتوى يحتاج لمزيد من التفصيل والأمثلة العملية',
        authorId: users[2]?.id || users[0].id,
        authorName: users[2]?.name || users[2]?.email || users[0].name || 'كاتب مجهول',
        authorAvatar: users[2]?.image || users[0].image
      },
      {
        title: 'أمان البيانات في عصر الذكاء الاصطناعي',
        excerpt: 'كيفية حماية بيانات الشركة والعملاء عند استخدام تقنيات الذكاء الاصطناعي',
        content: `# أمان البيانات في عصر الذكاء الاصطناعي

## أهمية أمان البيانات

مع ازدياد اعتماد الشركات على الذكاء الاصطناعي، تزداد المخاطر المرتبطة بأمان البيانات. حماية هذه البيانات أصبحت أولوية قصوى.

## التحديات الأمنية

### 1. حماية البيانات الشخصية
- امتثال للوائح الخصوصية
- تشفير البيانات الحساسة
- إدارة الوصول والصلاحيات

### 2. أمان الخوارزميات
- حماية النماذج من الاختراق
- منع التحيز في النتائج
- ضمان الشفافية

### 3. البنية التحتية الآمنة
- حماية الخوادم والشبكات
- النسخ الاحتياطية الآمنة
- مراقبة الأنشطة المشبوهة

## أفضل الممارسات

1. **تطبيق مبدأ الحد الأدنى من الامتيازات**
2. **التحديث المستمر للأنظمة الأمنية**
3. **التدريب المستمر للموظفين**
4. **إجراء اختبارات الاختراق الدورية**

## الأدوات والتقنيات

- تشفير البيانات من النهاية إلى النهاية
- أنظمة كشف التسلل
- التوقيع الرقمي والمصادقة
- أدوات مراقبة الأمان

## الخلاصة

أمان البيانات في عصر الذكاء الاصطناعي يتطلب نهجاً شاملاً ومتقدماً لضمان الحماية الكاملة.`,
        slug: 'data-security-ai-era-' + Date.now(),
        coverImage: 'https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop',
        tags: JSON.stringify(['أمان البيانات', 'الذكاء الاصطناعي', 'الحماية', 'الخصوصية']),
        featured: false,
        status: 'PUBLISHED',
        published: true,
        publishedAt: new Date(Date.now() - 48 * 60 * 60 * 1000), // منذ يومين
        authorId: users[0].id,
        authorName: users[0].name || users[0].email || 'كاتب مجهول',
        authorAvatar: users[0].image
      }
    ];

    // إضافة المقالات
    for (const blog of sampleBlogs) {
      await prisma.blogPost.create({
        data: blog
      });
      console.log(`✓ تم إضافة مقال: ${blog.title}`);
    }

    console.log('\n🎉 تم إضافة جميع بيانات المدونة التجريبية بنجاح!');
    console.log(`📊 تم إضافة ${sampleBlogs.length} مقال`);

  } catch (error) {
    console.error('❌ خطأ في إضافة البيانات:', error);
  } finally {
    await prisma.$disconnect();
  }
}

main(); 